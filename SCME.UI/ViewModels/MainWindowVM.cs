using PropertyChanged;
using SCME.Types;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Reflection;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Media;

namespace SCME.UI.ViewModels
{
    [AddINotifyPropertyChangedInterface]
    public class MainWindowVM
    {
        public SafetyMode SafetyMode { get; set; } = SafetyMode.Internal;
        public Visibility SafetyVisibility { get; set; }

        public bool IsSafetyBreakIconVisible { get; set; }

        public Visibility GoTechButtonVisibility { get; set; }

        public Visibility AccountButtonVisibility { get; set; }

        public Visibility TechPasswordVisibility { get; set; }

        public SyncMode SyncMode { get; set; }
        public string TopTitle { get; set; }

        [DependsOn(nameof(SyncMode))] public bool IsLocal => SyncMode == SyncMode.Local;
        [DependsOn(nameof(SyncMode))] public bool IsCentral => SyncMode != SyncMode.Local;

        public string  MmeCode { get; set; }
        
        public bool AccountNameIsVisibility { get; set; }

        public string AccountName { get; set; }

        public string Version { get; set; } = FileVersionInfo.GetVersionInfo(Assembly.GetExecutingAssembly().Location).ProductVersion;

        public bool WaitProgressBarIsShow { get; set; } = false;


        public readonly Geometry ConnectStateGeometrySync = Geometry.Parse("M 21.77845001220703 7.585091114044189 L 21.77845001220703 1 L 12.8892240524292 9.780120849609375 L 21.77845001220703 18.56024169921875 L 21.77845001220703 11.97515106201172 C 29.13428115844727 11.97515106201172 35.11228561401367 17.87978172302246 35.11228561401367 25.14533042907715 C 35.11228561401367 27.36230850219727 34.55670547485352 29.46953964233398 33.55666732788086 31.29141616821289 L 36.80123519897461 34.49616241455078 C 38.53463745117188 31.79627227783203 39.5568962097168 28.59152603149414 39.5568962097168 25.14533042907715 C 39.5568962097168 15.44329833984375 31.60104370117188 7.585091114044189 21.77845001220703 7.585091114044189 Z M 21.77845001220703 38.31551361083984 C 14.42261695861816 38.31551361083984 8.444613456726074 32.41088104248047 8.444613456726074 25.14533042907715 C 8.444613456726074 22.92834854125977 9.000188827514648 20.82111930847168 10.0002269744873 18.99924659729004 L 6.755660057067871 15.7945032119751 C 5.022260665893555 18.4943904876709 4 21.69913482666016 4 25.14533042907715 C 4 34.84737014770508 11.95585632324219 42.70557403564453 21.77845001220703 42.70557403564453 L 21.77845001220703 49.29066467285156 L 30.66767311096191 40.51054382324219 L 21.77845001220703 31.73041915893555 L 21.77845001220703 38.31551361083984 Z");
        public readonly Geometry ConnectStateGeometryNoLink = Geometry.Parse("M 18.44366645812988 9.12907886505127 L 18.44366645812988 4.5674729347229 C 16.69759559631348 5.025816440582275 15.06065654754639 5.746068954467773 13.57649803161621 6.662755966186523 L 16.7630729675293 9.849333763122559 C 17.30871963500977 9.587421417236328 17.85436630249023 9.325511932373047 18.44366645812988 9.12907886505127 Z M 2.860000371932983 7.077446937561035 L 8.010904312133789 12.22834873199463 C 6.330312252044678 14.89110660552979 5.348148345947266 18.05585670471191 5.348148345947266 21.46069145202637 C 5.348148345947266 26.28420639038086 7.334301471710205 30.62755584716797 10.49905204772949 33.77047348022461 L 5.348148345947266 38.92138290405273 L 18.44366645812988 38.92138290405273 L 18.44366645812988 25.82586479187012 L 13.55467414855957 30.71485900878906 C 11.19748020172119 28.33583641052246 9.713321685791016 25.08378410339355 9.713321685791016 21.46069145202637 C 9.713321685791016 19.27810478210449 10.25896739959717 17.22647285461426 11.19748020172119 15.41492652893066 L 28.83277702331543 33.05022430419922 C 28.28713035583496 33.33395767211914 27.74148559570313 33.59586715698242 27.15218544006348 33.79230117797852 L 27.15218544006348 38.35390853881836 C 28.89825439453125 37.89556884765625 30.53519248962402 37.17530822753906 32.01935195922852 36.25862884521484 L 37.17025756835938 41.40953063964844 L 39.94214630126953 38.63764572143555 L 5.65371036529541 4.305562019348145 L 2.859999656677246 7.077446937561035 Z M 40.26953506469727 4 L 27.17401123046875 4 L 27.17401123046875 17.09552001953125 L 32.06300735473633 12.20652484893799 C 34.42019653320313 14.58554458618164 35.90436172485352 17.83759880065918 35.90436172485352 21.46069145202637 C 35.90436172485352 23.64327812194824 35.35871124267578 25.69491004943848 34.42019653320313 27.5064582824707 L 37.60677337646484 30.69303131103516 C 39.2873649597168 28.03027725219727 40.26953506469727 24.86552810668945 40.26953506469727 21.46069145202637 C 40.26953506469727 16.63717460632324 38.28337860107422 12.2938289642334 35.11862564086914 9.150904655456543 L 40.26953506469727 4 Z");
        public readonly Geometry ConnectStateGeometryLocal = Geometry.Parse("M 2.999999523162842 21.49999809265137 C 2.999999523162842 26.33437156677246 4.990625381469727 30.6875 8.162498474121094 33.83749771118164 L 2.999999523162842 39 L 16.12499809265137 39 L 16.12499809265137 25.87499618530273 L 11.22499847412109 30.77499771118164 C 8.862499237060547 28.39062309265137 7.374999523162842 25.13124847412109 7.374999523162842 21.49999809265137 C 7.374999523162842 15.79062175750732 11.02812385559082 10.93437480926514 16.12499809265137 9.140623092651367 L 16.12499809265137 4.568750381469727 C 8.578125 6.515625 2.999999523162842 13.34062576293945 2.999999523162842 21.49999809265137 Z M 20.5 32.43749618530273 L 24.87500190734863 32.43749618530273 L 24.87500190734863 28.06249618530273 L 20.5 28.06249618530273 L 20.5 32.43749618530273 Z M 42.37499237060547 3.999999761581421 L 29.25 3.999999761581421 L 29.25 17.12499809265137 L 34.14999389648438 12.22499942779541 C 36.51250076293945 14.60937404632568 38 17.86874771118164 38 21.49999809265137 C 38 27.20937347412109 34.34687423706055 32.06562042236328 29.25 33.85937118530273 L 29.25 38.43125152587891 C 36.796875 36.48436737060547 42.37499237060547 29.65936851501465 42.37499237060547 21.49999809265137 C 42.37499237060547 16.66562461853027 40.38437271118164 12.31249809265137 37.21249771118164 9.16249942779541 L 42.37499237060547 3.999999761581421 Z M 20.5 23.6875 L 24.87500190734863 23.6875 L 24.87500190734863 10.56249904632568 L 20.5 10.56249904632568 L 20.5 23.6875 Z");


        public readonly Brush ConnectStateBrushSync = new BrushConverter().ConvertFromString("#ff58c450") as Brush;
        public readonly Brush ConnectStateBrushNoLink = new BrushConverter().ConvertFromString("#ffe6952a") as Brush;
        public readonly Brush ConnectStateBrushLocal = new BrushConverter().ConvertFromString("#ffe05050") as Brush;

        public Geometry ConnectStateGeometry { get; set; }
        public Brush ConnectStateBrush { get; set; }
        public string ConnectStateText { get; set; }



    }
}
